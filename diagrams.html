<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ideas — Diagrams</title>
  <link rel="icon" href="assets/img/icono.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&family=Playfair+Display&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1 class="ideas-title">Ideas</h1>
    <hr class="horizontal-rule">
    <nav class="ideas-tabs">
      <a class="tab" href="ideas.html">Projects</a>
      <a class="tab active" href="diagrams.html">Diagrams</a>
      <!-- <a class="tab" href="notes.html">Notes</a> -->
    </nav>
  </header>

  <main class="diagram-page">
    <!-- Carrusel -->
    <section class="carousel" aria-label="Diagrams carousel">
      <button class="nav-btn prev" aria-label="Previous diagram">&#10094;</button>

      <div class="track" tabindex="0">
        <!-- Slide 1 -->
        <figure class="slide" data-title="Flujo de trabajo — Entrenar a una red neuronal"
                data-desc="Mapa simple del proceso">
          <img src="assets/diagrams/FlujoTrabajoDeepLearning.png" alt="Diagrama de flujo básico para entrenar una red neuronal">
        </figure>

        <!-- Slide 2 -->
        <figure class="slide" data-title="Aprendizaje"
                data-desc="Mapa mental sobre el aprendizaje.">
          <img src="assets/diagrams/Aprendizaje.png" alt="Mapa mental sobre el aprendizaje">
        </figure>

        <!-- Slide 3 -->
        <!-- <figure class="slide" data-title="Evaluación y despliegue"
                data-desc="Métricas clave, overfitting/underfitting y consideraciones para uso real.">
          <img src="assets/diagrams/FlujoTrabajoDeepLearning.png" alt="Diagrama de evaluación y despliegue">
        </figure> -->

      </div>

      <button class="nav-btn next" aria-label="Next diagram">&#10095;</button>
    </section>

    <!-- Título + descripción dinámicos -->
    <section class="diagram-meta" aria-live="polite">
      <h2 id="diagram-title">Flujo de trabajo — Entrenar a una red neuronal</h2>
      <p id="diagram-desc">Mapa simple del proceso.</p>
    </section>

    <hr class="horizontal-rule">

    <!-- Paginadores (en proceso) -->
    <!-- <div class="dots" role="tablist" aria-label="Diagrams thumbnails">
      <button class="dot is-active" role="tab" aria-selected="true" aria-label="Go to diagram 1"></button>
      <button class="dot" role="tab" aria-label="Go to diagram 2"></button>
      <button class="dot" role="tab" aria-label="Go to diagram 3"></button>
    </div> -->
  </main>

  <footer>
    <nav class="icon-menu">
      <a href="index.html"><img src="assets/img/icon-home.svg" alt="Home icon"></a>
      <a href="about.html"><img src="assets/img/icon-user.svg" alt="User icon"></a>
      <a href="ideas.html"><img src="assets/img/icon-idea.svg" alt="Ideas icon"></a>
      <a href="gallery.html"><img src="assets/img/icon-camera.svg" alt="Camera icon"></a>
      <a href="https://github.com/NaTHuber" target="_blank"><img src="assets/img/icon-github.svg" alt="GitHub icon"></a>
      <a href="mailto:nbaezhuber@gmail.com"><img src="assets/img/icon-mail.svg" alt="Mail icon"></a>
    </nav>
  </footer>

  <script>
    // ----- Carousel logic (sin dependencias) -----
    const track = document.querySelector('.track');
    const slides = [...document.querySelectorAll('.slide')];
    const prev = document.querySelector('.prev');
    const next = document.querySelector('.next');
    const dots = [...document.querySelectorAll('.dot')];
    const titleEl = document.getElementById('diagram-title');
    const descEl  = document.getElementById('diagram-desc');

    // Manejo del estado

    let index = 0;

     // Actualiza título y descripción según el índice actual
    function updateMeta(i){
      const s = slides[i];
      titleEl.textContent = s.dataset.title || '';
      descEl.textContent  = s.dataset.desc  || '';
      dots.forEach((d,k)=>{ d.classList.toggle('is-active', k===i); d.setAttribute('aria-selected', k===i); });
    }

    // Navegación - Calcula el nuevo índice con módulo
    function go(i){
      index = (i + slides.length) % slides.length;
      const offset = slides[index].offsetLeft;
      track.scrollTo({ left: offset, behavior: 'smooth' });
      updateMeta(index);
    }

    prev.addEventListener('click', ()=>go(index-1));
    next.addEventListener('click', ()=>go(index+1));
    dots.forEach((d,k)=> d.addEventListener('click', ()=>go(k)));

    
    track.addEventListener('keydown', (e)=>{
      if (e.key === 'ArrowLeft')  go(index-1);
      if (e.key === 'ArrowRight') go(index+1);
    });

    
    let snapTimeout;
    track.addEventListener('scroll', ()=>{
      clearTimeout(snapTimeout);
      snapTimeout = setTimeout(()=>{
        const mid = track.scrollLeft + track.clientWidth/2;
        const nearest = slides.reduce((best, s, i)=>{
          const center = s.offsetLeft + s.clientWidth/2;
          const dist = Math.abs(center - mid);
          return dist < best.dist ? {i, dist} : best;
        }, {i:index, dist: Infinity});
        if (nearest.i !== index) { index = nearest.i; updateMeta(index); }
      }, 80);
    });

    // init
    updateMeta(0);
  </script>
</body>
</html>
